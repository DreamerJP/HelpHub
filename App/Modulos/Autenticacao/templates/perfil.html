{% extends "layout_base.html" %} {% block title %}Meu Perfil - HelpHub 4.0{%
endblock %} {% block page_title %}Meu Perfil{% endblock %} {% block content %}
<div
  style="
    max-width: 800px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    gap: 2rem;
  "
>
  <!-- Informações Atuais -->
  <div class="glass-panel" style="padding: 2rem; height: fit-content">
    <div style="text-align: center; margin-bottom: 2rem">
      <div
        style="
          width: 80px;
          height: 80px;
          background: var(--primary);
          color: white;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 2rem;
          font-weight: 700;
          margin: 0 auto 1rem;
        "
      >
        {{ current_user.username[0] | upper }}
      </div>
      <h3 style="font-size: 1.25rem; font-weight: 700; color: var(--text-main)">
        {{ current_user.nome }}
      </h3>
      <p style="color: var(--text-muted); font-size: 0.875rem">
        @{{ current_user.username }}
      </p>
    </div>

    <div style="display: flex; flex-direction: column; gap: 1rem">
      <div style="padding: 1rem; background: #f9fafb; border-radius: 8px">
        <label
          style="
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            font-weight: 700;
            display: block;
            margin-bottom: 0.25rem;
          "
          >E-mail</label
        >
        <div style="font-weight: 500; color: var(--text-main)">
          {{ current_user.email }}
        </div>
      </div>
      <div style="padding: 1rem; background: #f9fafb; border-radius: 8px">
        <label
          style="
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            font-weight: 700;
            display: block;
            margin-bottom: 0.25rem;
          "
          >Nível de Acesso</label
        >
        <div style="font-weight: 500; color: var(--text-main)">
          {{ current_user.role }}
        </div>
      </div>
      <div style="padding: 1rem; background: #f9fafb; border-radius: 8px">
        <label
          style="
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            font-weight: 700;
            display: block;
            margin-bottom: 0.25rem;
          "
          >Membro desde</label
        >
        <div style="font-weight: 500; color: var(--text-main)">
          {{ current_user.created_at.strftime('%d/%m/%Y') }}
        </div>
      </div>
    </div>
  </div>

  <!-- Troca de Senha -->
  <div class="glass-panel" style="padding: 2rem">
    <div style="margin-bottom: 2rem">
      <h3
        style="
          font-size: 1.25rem;
          font-weight: 700;
          color: var(--text-main);
          display: flex;
          align-items: center;
          gap: 0.5rem;
        "
      >
        <i class="ph ph-lock-key" style="color: var(--primary)"></i>
        Alterar Senha
      </h3>
      <p style="color: var(--text-muted); font-size: 0.875rem">
        Mantenha sua conta segura trocando sua senha periodicamente.
      </p>
    </div>

    <form method="POST" action="" class="app-form">
      {{ form.hidden_tag() }}

      <div class="form-group" style="margin-bottom: 1.5rem">
        <label
          class="form-label"
          style="display: block; margin-bottom: 0.5rem; font-weight: 500"
          >Senha Atual</label
        >
        {{ form.password_old(class="form-control", style="width: 100%; padding:
        0.75rem; border: 1px solid #e5e7eb; border-radius: 8px;") }} {% for
        error in form.password_old.errors %}
        <span
          style="
            color: #ef4444;
            font-size: 0.75rem;
            display: block;
            margin-top: 0.25rem;
          "
          >{{ error }}</span
        >
        {% endfor %}
      </div>

      <div class="form-group" style="margin-bottom: 1.5rem">
        <label
          class="form-label"
          style="display: block; margin-bottom: 0.5rem; font-weight: 500"
          >Nova Senha</label
        >
        {{ form.password_new(class="form-control", style="width: 100%; padding:
        0.75rem; border: 1px solid #e5e7eb; border-radius: 8px;") }} {% for
        error in form.password_new.errors %}
        <span
          style="
            color: #ef4444;
            font-size: 0.75rem;
            display: block;
            margin-top: 0.25rem;
          "
          >{{ error }}</span
        >
        {% endfor %}
      </div>

      <div class="form-group" style="margin-bottom: 2rem">
        <label
          class="form-label"
          style="display: block; margin-bottom: 0.5rem; font-weight: 500"
          >Confirmar Nova Senha</label
        >
        {{ form.password_confirm(class="form-control", style="width: 100%;
        padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 8px;") }} {%
        for error in form.password_confirm.errors %}
        <span
          style="
            color: #ef4444;
            font-size: 0.75rem;
            display: block;
            margin-top: 0.25rem;
          "
          >{{ error }}</span
        >
        {% endfor %}
      </div>

      <button
        type="submit"
        class="btn btn-primary"
        style="width: 100%; padding: 0.75rem; font-weight: 600"
      >
        Atualizar Senha
      </button>
    </form>
  </div>
</div>
{% endblock %}
